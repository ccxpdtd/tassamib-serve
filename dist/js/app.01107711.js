(function(){"use strict";var t={3052:function(t,e,s){var a=s(5471),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],r={components:{}},n=r,l=s(1656),c=(0,l.A)(n,i,o,!1,null,null,null),m=c.exports,d=s(7153),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout-container"},[e("backgroundParticles",{attrs:{quantity:25}}),e("div",{staticClass:"layout-tabbar"},[e("Tabbar")],1),e("div",{staticClass:"layout-body"},[e("myMain")],1)],1)},p=[],g=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"tabbar-container"},[e("span",{staticClass:"blog-name"},[t._v("tassamib")]),e("ul",{staticClass:"routes-list"},t._l(t.myTabbarRoutes,function(s){return e("li",{key:s.path,staticClass:"route-item"},[e("router-link",{staticClass:"route-font",attrs:{to:s.path}},[t._v(t._s(s.meta.title))])],1)}),0),e("div",{staticClass:"user-info"},[e("img",{staticClass:"user-avatar",attrs:{src:t.userInfo.avatar||"https://pic.616pic.com/ys_img/00/06/27/5m1AgeRLf3.jpg",alt:""}}),e("span",{staticClass:"user-name"},[t._v(t._s(t.userInfo.name||"æ¸¸å®¢"))]),e("i",{staticClass:"el-icon-setting settings",attrs:{size:"20"},on:{click:t.goToSettings}}),e("el-button",{staticClass:"login-button",on:{click:t.loginOrLogout}},[t._v(t._s(t.userInfo.name?"é€€å‡ºç™»å½•":"ç™»å½•"))])],1)])},h=[],f=(s(4114),s(8111),s(2489),s(116),s(5353)),v=s(5537);const w=t=>{if(!t)return null;try{return(0,v.s)(t)}catch(e){return console.error("Tokenè§£æå¤±è´¥:",e),null}};var y=w,C=s(1052),_=s.n(C),b={name:"myTabbar",data(){return{myTabbarRoutes:[],userInfo:{}}},mounted(){this.getRoutes(),this.getUserInfo()},methods:{...(0,f.i0)("user",["user_get"]),getRoutes(){const t=Ue.find(t=>"myLayout"===t.name);this.myTabbarRoutes=t.children.filter(t=>!t.meta.hidden)},async getUserInfo(){const{id:t}=y(localStorage.getItem("token"));if(!t)return;const e="/api/get_myinfo",s={id:t},a=await this.user_get({url:e,payload:s});200===a.code?this.userInfo=a.userInfo:(0,C.Notification)({type:"error",message:a.msg})},loginOrLogout(){const t=y(localStorage.getItem("token"));t&&localStorage.removeItem("token"),this.$router.push("/login")},goToSettings(){this.$router.push({name:"mySettings"})}}},k=b,x=(0,l.A)(k,g,h,!1,null,"3a542b64",null),I=x.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container"},[e("router-view")],1)},A=[],M={name:"myBody"},L=M,P=(0,l.A)(L,S,A,!1,null,null,null),$=P.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"meteor-background"},t._l(t.quantity,function(s){return e("div",{key:s,staticClass:"meteor",style:t.generateStyle()})}),0)},N=[],R={name:"ParticlesDemo",props:{quantity:{type:Number,default:30}},methods:{generateStyle(){const t=10*Math.random(),e=25+130*Math.random(),s=Math.abs(e-300),a=300,i=s/a,o=3.5+10.5*Math.pow(i,3),r=-35,n=.3+.5*Math.random();return{left:`${e}%`,top:`${r}%`,animationDelay:`${t}s`,animationDuration:`${o}s`,opacity:n}}}},F=R,E=(0,l.A)(F,T,N,!1,null,"ab204bda",null),D=E.exports,G={name:"myLayout",components:{Tabbar:I,myMain:$,backgroundParticles:D}},U=G,B=(0,l.A)(U,u,p,!1,null,"c0762a62",null),z=B.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-container"},[e("div",{staticClass:"tab-header"},[e("button",{staticClass:"tab-btn",class:{active:t.isLogin},on:{click:t.switchToLogin}},[t._v(" ç™»å½• ")]),e("button",{staticClass:"tab-btn",class:{active:!t.isLogin},on:{click:t.switchToRegister}},[t._v(" æ³¨å†Œ ")])]),e("form",{staticClass:"modern-form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-title"},[t._v(t._s(t.isLogin?"ç™»å½•":"æ³¨å†Œ"))]),e("div",{staticClass:"form-body"},[!t.isLogin||t.isLogin&&"password"===t.loginMethod?e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-wrapper"},[e("svg",{staticClass:"input-icon",attrs:{fill:"none",viewBox:"0 0 24 24"}},[e("circle",{attrs:{"stroke-width":"1.5",stroke:"currentColor",r:"4",cy:"8",cx:"12"}}),e("path",{attrs:{"stroke-linecap":"round","stroke-width":"1.5",stroke:"currentColor",d:"M5 20C5 17.2386 8.13401 15 12 15C15.866 15 19 17.2386 19 20"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-input",attrs:{required:"",placeholder:"ç”¨æˆ·å",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})])]):t._e(),!t.isLogin||t.isLogin&&"verifyCode"===t.loginMethod?e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-wrapper"},[e("svg",{staticClass:"input-icon",attrs:{fill:"none",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-width":"1.5",stroke:"currentColor",d:"M3 8L10.8906 13.2604C11.5624 13.7083 12.4376 13.7083 13.1094 13.2604L21 8M5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V17C3 18.1046 3.89543 19 5 19Z"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{required:"",placeholder:"é‚®ç®±",type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})])]):t._e(),!t.isLogin||t.isLogin&&"password"===t.loginMethod?e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-wrapper"},[e("svg",{staticClass:"input-icon",attrs:{fill:"none",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-width":"1.5",stroke:"currentColor",d:"M12 10V14M8 6H16C17.1046 6 18 6.89543 18 8V16C18 17.1046 17.1046 18 16 18H8C6.89543 18 6 17.1046 6 16V8C6 6.89543 6.89543 6 8 6Z"}})]),"checkbox"===(t.showPwd?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-input",attrs:{required:"",placeholder:"å¯†ç ",type:"checkbox"},domProps:{checked:Array.isArray(t.form.password)?t._i(t.form.password,null)>-1:t.form.password},on:{change:function(e){var s=t.form.password,a=e.target,i=!!a.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);a.checked?r<0&&t.$set(t.form,"password",s.concat([o])):r>-1&&t.$set(t.form,"password",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.form,"password",i)}}}):"radio"===(t.showPwd?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-input",attrs:{required:"",placeholder:"å¯†ç ",type:"radio"},domProps:{checked:t._q(t.form.password,null)},on:{change:function(e){return t.$set(t.form,"password",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-input",attrs:{required:"",placeholder:"å¯†ç ",type:t.showPwd?"text":"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),e("button",{staticClass:"password-toggle",attrs:{type:"button"},on:{click:t.togglePwd}},[e("svg",{staticClass:"eye-icon",attrs:{fill:"none",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-width":"1.5",stroke:"currentColor",d:"M2 12C2 12 5 5 12 5C19 5 22 12 22 12C22 12 19 19 12 19C5 19 2 12 2 12Z"}}),e("circle",{attrs:{"stroke-width":"1.5",stroke:"currentColor",r:"3",cy:"12",cx:"12"}})])])])]):t._e(),t.isLogin?t._e():e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-wrapper"},[e("svg",{staticClass:"input-icon",attrs:{fill:"none",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-width":"1.5",stroke:"currentColor",d:"M12 10V14M8 6H16C17.1046 6 18 6.89543 18 8V16C18 17.1046 17.1046 18 16 18H8C6.89543 18 6 17.1046 6 16V8C6 6.89543 6.89543 6 8 6Z"}})]),"checkbox"===(t.showConfirmPwd?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirmpassword,expression:"form.confirmpassword"}],staticClass:"form-input",attrs:{required:"",placeholder:"ç¡®è®¤å¯†ç ",type:"checkbox"},domProps:{checked:Array.isArray(t.form.confirmpassword)?t._i(t.form.confirmpassword,null)>-1:t.form.confirmpassword},on:{change:function(e){var s=t.form.confirmpassword,a=e.target,i=!!a.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);a.checked?r<0&&t.$set(t.form,"confirmpassword",s.concat([o])):r>-1&&t.$set(t.form,"confirmpassword",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.form,"confirmpassword",i)}}}):"radio"===(t.showConfirmPwd?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirmpassword,expression:"form.confirmpassword"}],staticClass:"form-input",attrs:{required:"",placeholder:"ç¡®è®¤å¯†ç ",type:"radio"},domProps:{checked:t._q(t.form.confirmpassword,null)},on:{change:function(e){return t.$set(t.form,"confirmpassword",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirmpassword,expression:"form.confirmpassword"}],staticClass:"form-input",attrs:{required:"",placeholder:"ç¡®è®¤å¯†ç ",type:t.showConfirmPwd?"text":"password"},domProps:{value:t.form.confirmpassword},on:{input:function(e){e.target.composing||t.$set(t.form,"confirmpassword",e.target.value)}}}),e("button",{staticClass:"password-toggle",attrs:{type:"button"},on:{click:t.toggleConfirmPwd}},[e("svg",{staticClass:"eye-icon",attrs:{fill:"none",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-width":"1.5",stroke:"currentColor",d:"M2 12C2 12 5 5 12 5C19 5 22 12 22 12C22 12 19 19 12 19C5 19 2 12 2 12Z"}}),e("circle",{attrs:{"stroke-width":"1.5",stroke:"currentColor",r:"3",cy:"12",cx:"12"}})])])])]),!t.isLogin||t.isLogin&&"verifyCode"===t.loginMethod?e("div",{staticClass:"input-group"},[e("div",{staticClass:"verify-code-wrapper"},[e("div",{staticClass:"input-wrapper"},[e("svg",{staticClass:"input-icon",attrs:{fill:"none",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-width":"1.5",stroke:"currentColor",d:"M12 8V16M8 12H16M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.verifyCode,expression:"form.verifyCode"}],staticClass:"form-input verify-code-input",attrs:{required:"",placeholder:"è¯·è¾“å…¥éªŒè¯ç ",type:"text",maxlength:"6"},domProps:{value:t.form.verifyCode},on:{input:function(e){e.target.composing||t.$set(t.form,"verifyCode",e.target.value)}}})]),e("button",{staticClass:"send-code-btn",attrs:{type:"button",disabled:t.isSendingCode},on:{click:t.handleSendCode}},[t._v(" "+t._s(t.isSendingCode?`${t.countdown}såé‡æ–°å‘é€`:"å‘é€éªŒè¯ç ")+" ")])])]):t._e()]),t.isLogin?e("div",{staticClass:"login-method-switch-container"},[e("span",{staticClass:"login-method-switch",on:{click:t.switchLoginMethod}},[t._v(" "+t._s("password"===t.loginMethod?"ä½¿ç”¨éªŒè¯ç ç™»å½•":"ä½¿ç”¨å¯†ç ç™»å½•")+" ")])]):t._e(),e("button",{staticClass:"submit-button",attrs:{type:"submit"}},[e("span",{staticClass:"button-text"},[t._v(" "+t._s(t.isLogin?"password"===t.loginMethod?"å¯†ç ç™»å½•":"éªŒè¯ç ç™»å½•":"æ³¨å†Œ")+" ")]),e("div",{staticClass:"button-glow"})])])])},V=[],q={name:"LoginRegister",data(){return{isLogin:!0,loginMethod:"password",showPwd:!1,showConfirmPwd:!1,isSendingCode:!1,countdown:60,countdownTimer:null,form:{name:"",email:"",password:"",confirmpassword:"",verifyCode:""},validationRules:{passwordLogin:[{key:"name",rule:t=>t.trim(),message:"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"},{key:"password",rule:t=>t.trim(),message:"å¯†ç ä¸èƒ½ä¸ºç©º"},{key:"password",rule:t=>t.length>=6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½"}],verifyLogin:[{key:"email",rule:t=>t.trim(),message:"é‚®ç®±ä¸èƒ½ä¸ºç©º"},{key:"email",rule:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"},{key:"verifyCode",rule:t=>t.trim(),message:"è¯·è¾“å…¥éªŒè¯ç "},{key:"verifyCode",rule:t=>6===t.length,message:"éªŒè¯ç é•¿åº¦å¿…é¡»ä¸º6ä½"}],register:[{key:"name",rule:t=>t.trim(),message:"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"},{key:"email",rule:t=>t.trim(),message:"é‚®ç®±ä¸èƒ½ä¸ºç©º"},{key:"email",rule:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"},{key:"password",rule:t=>t.trim(),message:"å¯†ç ä¸èƒ½ä¸ºç©º"},{key:"password",rule:t=>t.length>=6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½"},{key:"confirmpassword",rule:t=>t.trim(),message:"ç¡®è®¤å¯†ç ä¸èƒ½ä¸ºç©º"},{key:"confirmpassword",rule:t=>t===this.form.password,message:"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"},{key:"verifyCode",rule:t=>t.trim(),message:"è¯·è¾“å…¥éªŒè¯ç "},{key:"verifyCode",rule:t=>6===t.length,message:"éªŒè¯ç é•¿åº¦å¿…é¡»ä¸º6ä½"}],sendCode:[{key:"email",rule:t=>t.trim(),message:"è¯·å…ˆè¾“å…¥é‚®ç®±"},{key:"email",rule:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),message:"è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"}]}}},mounted(){this.resetForm()},beforeDestroy(){this.countdownTimer&&clearInterval(this.countdownTimer)},methods:{...(0,f.i0)("user",["user_post","user_get"]),switchToLogin(){this.isLogin=!0,this.loginMethod="password",this.resetForm()},switchToRegister(){this.isLogin=!1,this.resetForm()},switchLoginMethod(){this.loginMethod="password"===this.loginMethod?"verifyCode":"password",this.form={...this.form,name:"",password:"",verifyCode:""}},togglePwd(){this.showPwd=!this.showPwd},toggleConfirmPwd(){this.showConfirmPwd=!this.showConfirmPwd},resetForm(){this.form={name:"",email:"",password:"",confirmpassword:"",verifyCode:""},this.showPwd=this.showConfirmPwd=!1,this.isSendingCode=!1,this.countdown=60,this.countdownTimer&&clearInterval(this.countdownTimer)},validateForm(t){const e=this.validationRules[t];for(const{key:s,rule:a,message:i}of e){const t=this.form[s];if(!a(t))return(0,C.Notification)({type:"error",message:i}),!1}return!0},async handleSendCode(){if(!this.validateForm("sendCode"))return;this.isSendingCode=!0;const t="/api/sendCode",e={email:this.form.email.trim(),method:this.isLogin?"login":"register"};try{const s=await this.user_post({url:t,payload:e});(0,C.Notification)({type:200===s.code?"success":"error",message:s.msg}),200===s.code?this.countdownTimer=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownTimer),this.isSendingCode=!1,this.countdown=60)},1e3):this.isSendingCode=!1}catch(s){console.error("å‘é€éªŒè¯ç å¤±è´¥ï¼š",s),(0,C.Notification)({type:"error",message:"ç½‘ç»œå¼‚å¸¸ï¼ŒéªŒè¯ç å‘é€å¤±è´¥"}),this.isSendingCode=!1}},async handleSubmit(){let t;if(t=this.isLogin?"password"===this.loginMethod?"passwordLogin":"verifyLogin":"register",!this.validateForm(t))return;const{name:e,email:s,password:a,verifyCode:i}=this.form;let o,r;this.isLogin?"password"===this.loginMethod?(o="/api/login",r={name:e.trim(),password:a.trim(),method:"login"}):(o="/api/loginByVerifyCode",r={email:s.trim(),code:i.trim(),method:"login"}):(o="/api/register",r={name:e.trim(),email:s.trim(),password:a.trim(),code:i.trim()});try{const t=await this.user_post({url:o,payload:r});200===t.code?(this.resetForm(),this.isLogin&&t.token&&localStorage.setItem("token",t.token),this.isLogin&&this.$router.push("/"),!this.isLogin&&this.switchToLogin(),(0,C.Notification)({type:"success",message:t.msg})):(0,C.Notification)({type:"error",message:t.msg||"æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•"})}catch(n){const t=this.isLogin?"password"===this.loginMethod?"å¯†ç ç™»å½•":"éªŒè¯ç ç™»å½•":"æ³¨å†Œ";console.error(`${t}è¯·æ±‚å¤±è´¥ï¼š`,n),(0,C.Notification)({type:"error",message:"ç½‘ç»œå¼‚å¸¸ï¼Œè¯·æ£€æŸ¥è¿æ¥åé‡è¯•"})}}}},O=q,H=(0,l.A)(O,j,V,!1,null,"06713f0b",null),K=H.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tassamib-container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"tassamib-card skill"},[e("SkillEnergy")],1),e("div",{staticClass:"tassamib-card avatar"},[e("AvatarCircle")],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"about-me"},[e("AboutMe")],1)])])},Y=[],X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"avatar-line-container"},[e("transition",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__bounceInDown"}},[e("div",{staticClass:"orbiting-container"},[e("div",{staticClass:"orbit orbit-outer",style:t.getOrbitStyle(t.radius,t.speed,!1)},t._l(t.outerIcons,function(s,a){return e("div",{key:"outer-"+a,staticClass:"icon",style:t.getDotStyle(a,t.outerIcons.length,t.radius),domProps:{innerHTML:t._s(s)}})}),0),e("div",{staticClass:"orbit orbit-inner",style:t.getOrbitStyle(t.radius2,t.speed2,!0)},t._l(t.innerIcons,function(s,a){return e("div",{key:"inner-"+a,staticClass:"icon small",style:t.getDotStyle(a,t.innerIcons.length,t.radius2),domProps:{innerHTML:t._s(s)}})}),0),e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.admin.avatar,alt:"avatar"}})])])])],1)},J=[],Q={name:"OrbitLineAvatar",data(){const t='<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M2 4L16 28L30 4H24.5L16 18.5L7.5 4H2Z" fill="#41B883"></path> <path d="M7.5 4L16 18.5L24.5 4H19.5L16.0653 10.0126L12.5 4H7.5Z" fill="#35495E"></path> </g></svg>',e='<svg fill="#000000" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>OpenAI icon</title><path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"></path></g></svg>',s='<svg xmlns="http://www.w3.org/2000/svg" aria-label="JavaScript" role="img" viewBox="0 0 512 512" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><rect width="512" height="512" rx="15%" fill="#f7df1e"></rect><path d="M324 370c10 17 24 29 47 29c20 0 33-10 33 -24c0-16 -13 -22 -35 -32l-12-5c-35-15 -58 -33 -58 -72c0-36 27 -64 70 -64c31 0 53 11 68 39l-37 24c-8-15 -17 -21 -31 -21c-14 0-23 9 -23 21c0 14 9 20 30 29l12 5c41 18 64 35 64 76c0 43-34 67 -80 67c-45 0-74 -21 -88 -49zm-170 4c8 13 14 25 31 25c16 0 26-6 26 -30V203h48v164c0 50-29 72 -72 72c-39 0-61 -20 -72 -44z"></path></g></svg>',a='<svg viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>github [#142]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000000"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" id="github-[#142]"> </path> </g> </g> </g> </g></svg>',i='<svg width="60px" height="60px" viewBox="0 -99 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <defs> <linearGradient x1="68.188%" y1="17.487%" x2="27.823%" y2="89.755%" id="b"> <stop stop-color="#41873F" offset="0%"></stop> <stop stop-color="#418B3D" offset="32.88%"></stop> <stop stop-color="#419637" offset="63.52%"></stop> <stop stop-color="#3FA92D" offset="93.19%"></stop> <stop stop-color="#3FAE2A" offset="100%"></stop> </linearGradient> <path id="a" d="M57.903 1.85a5.957 5.957 0 0 0-5.894 0L3.352 29.933c-1.85 1.04-2.89 3.005-2.89 5.085v56.286c0 2.08 1.156 4.045 2.89 5.085l48.657 28.085a5.957 5.957 0 0 0 5.894 0l48.658-28.085c1.849-1.04 2.89-3.005 2.89-5.085V35.019c0-2.08-1.157-4.045-2.89-5.085L57.903 1.85z"></path> <linearGradient x1="43.277%" y1="55.169%" x2="159.245%" y2="-18.306%" id="d"> <stop stop-color="#41873F" offset="13.76%"></stop> <stop stop-color="#54A044" offset="40.32%"></stop> <stop stop-color="#66B848" offset="71.36%"></stop> <stop stop-color="#6CC04A" offset="90.81%"></stop> </linearGradient> <linearGradient x1="-4413.77%" y1="13.43%" x2="5327.93%" y2="13.43%" id="e"> <stop stop-color="#6CC04A" offset="9.192%"></stop> <stop stop-color="#66B848" offset="28.64%"></stop> <stop stop-color="#54A044" offset="59.68%"></stop> <stop stop-color="#41873F" offset="86.24%"></stop> </linearGradient> <linearGradient x1="-4.389%" y1="49.997%" x2="101.499%" y2="49.997%" id="f"> <stop stop-color="#6CC04A" offset="9.192%"></stop> <stop stop-color="#66B848" offset="28.64%"></stop> <stop stop-color="#54A044" offset="59.68%"></stop> <stop stop-color="#41873F" offset="86.24%"></stop> </linearGradient> <linearGradient x1="-9713.77%" y1="36.21%" x2="27.93%" y2="36.21%" id="g"> <stop stop-color="#6CC04A" offset="9.192%"></stop> <stop stop-color="#66B848" offset="28.64%"></stop> <stop stop-color="#54A044" offset="59.68%"></stop> <stop stop-color="#41873F" offset="86.24%"></stop> </linearGradient> <linearGradient x1="-103.861%" y1="50.275%" x2="100.797%" y2="50.275%" id="h"> <stop stop-color="#6CC04A" offset="9.192%"></stop> <stop stop-color="#66B848" offset="28.64%"></stop> <stop stop-color="#54A044" offset="59.68%"></stop> <stop stop-color="#41873F" offset="86.24%"></stop> </linearGradient> <linearGradient x1="130.613%" y1="-211.069%" x2="4.393%" y2="201.605%" id="i"> <stop stop-color="#41873F" offset="0%"></stop> <stop stop-color="#418B3D" offset="32.88%"></stop> <stop stop-color="#419637" offset="63.52%"></stop> <stop stop-color="#3FA92D" offset="93.19%"></stop> <stop stop-color="#3FAE2A" offset="100%"></stop> </linearGradient> </defs> <g fill="none"> <path d="M253.11 313.094c-1.733 0-3.351-.462-4.854-1.271l-15.371-9.13c-2.312-1.272-1.156-1.734-.462-1.965 3.12-1.04 3.698-1.272 6.934-3.12.347-.232.81-.116 1.156.115l11.789 7.05c.462.231 1.04.231 1.386 0l46.115-26.698c.462-.231.694-.694.694-1.271v-53.28c0-.579-.232-1.04-.694-1.272l-46.115-26.582c-.462-.232-1.04-.232-1.386 0l-46.115 26.582c-.462.231-.694.809-.694 1.271v53.28c0 .463.232 1.04.694 1.272l12.598 7.281c6.819 3.467 11.095-.578 11.095-4.623v-52.587c0-.693.578-1.387 1.387-1.387h5.894c.694 0 1.387.578 1.387 1.387v52.587c0 9.13-4.97 14.447-13.638 14.447-2.658 0-4.738 0-10.633-2.89l-12.135-6.934c-3.005-1.733-4.854-4.97-4.854-8.437v-53.28c0-3.467 1.849-6.704 4.854-8.437l46.114-26.698c2.89-1.618 6.82-1.618 9.709 0l46.114 26.698c3.005 1.733 4.855 4.97 4.855 8.437v53.28c0 3.467-1.85 6.704-4.855 8.437l-46.114 26.698c-1.503.694-3.236 1.04-4.854 1.04zm14.216-36.637c-20.225 0-24.386-9.246-24.386-17.105 0-.694.578-1.387 1.387-1.387h6.01c.693 0 1.271.462 1.271 1.156.925 6.125 3.583 9.13 15.834 9.13 9.708 0 13.87-2.196 13.87-7.397 0-3.005-1.157-5.2-16.297-6.703-12.598-1.272-20.457-4.045-20.457-14.1 0-9.362 7.86-14.91 21.035-14.91 14.793 0 22.075 5.086 23 16.18 0 .348-.116.694-.347 1.041-.232.231-.578.462-.925.462h-6.01c-.578 0-1.156-.462-1.271-1.04-1.387-6.356-4.97-8.437-14.447-8.437-10.633 0-11.905 3.699-11.905 6.472 0 3.352 1.503 4.392 15.834 6.241 14.216 1.85 20.92 4.508 20.92 14.447-.116 10.171-8.437 15.95-23.116 15.95z" fill="#539E43"></path> <path d="M110.028 104.712c0-2.08-1.156-4.046-3.005-5.086l-49.004-28.2c-.81-.463-1.734-.694-2.658-.81h-.463c-.924 0-1.849.347-2.658.81l-49.004 28.2c-1.85 1.04-3.005 3.005-3.005 5.086l.116 75.817c0 1.04.578 2.08 1.502 2.543.925.578 2.08.578 2.89 0l29.125-16.643c1.849-1.04 3.005-3.005 3.005-5.085v-35.482c0-2.08 1.155-4.045 3.005-5.085l12.366-7.166c.925-.578 1.965-.81 3.005-.81 1.04 0 2.08.232 2.89.81l12.366 7.166c1.85 1.04 3.005 3.004 3.005 5.085v35.482c0 2.08 1.156 4.045 3.005 5.085l29.125 16.643c.925.578 2.08.578 3.005 0 .925-.463 1.503-1.503 1.503-2.543l-.116-75.817zM345.571.347c-.924-.463-2.08-.463-2.89 0-.924.578-1.502 1.502-1.502 2.542v75.125c0 .693-.346 1.386-1.04 1.849-.693.346-1.387.346-2.08 0l-12.251-7.05a5.957 5.957 0 0 0-5.895 0l-49.004 28.316c-1.849 1.04-3.005 3.005-3.005 5.085v56.516c0 2.08 1.156 4.046 3.005 5.086l49.004 28.316a5.957 5.957 0 0 0 5.895 0l49.004-28.316c1.849-1.04 3.005-3.005 3.005-5.086V21.844c0-2.196-1.156-4.16-3.005-5.201L345.572.347zm-4.507 143.776c0 .578-.231 1.04-.694 1.271l-16.758 9.708a1.714 1.714 0 0 1-1.503 0l-16.758-9.708c-.463-.231-.694-.809-.694-1.271v-19.417c0-.578.231-1.04.694-1.271l16.758-9.709a1.714 1.714 0 0 1 1.503 0l16.758 9.709c.463.23.694.809.694 1.271v19.417zM508.648 124.244c1.85-1.04 2.89-3.005 2.89-5.086v-13.753c0-2.08-1.156-4.045-2.89-5.085l-48.657-28.2a5.957 5.957 0 0 0-5.894 0l-49.004 28.315c-1.85 1.04-3.005 3.005-3.005 5.086v56.516c0 2.08 1.155 4.045 3.005 5.085l48.657 27.738c1.85 1.04 4.045 1.04 5.779 0L489 178.45c.925-.463 1.503-1.503 1.503-2.543 0-1.04-.578-2.08-1.503-2.543l-49.235-28.316c-.924-.577-1.502-1.502-1.502-2.542v-17.683c0-1.04.578-2.08 1.502-2.543l15.372-8.784a2.821 2.821 0 0 1 3.005 0l15.371 8.784c.925.578 1.503 1.502 1.503 2.543v13.869c0 1.04.578 2.08 1.502 2.542.925.578 2.08.578 3.005 0l29.125-16.99z" fill="#333"></path> <path d="M456.293 121.586a1.05 1.05 0 0 1 1.155 0l9.362 5.432c.347.23.578.577.578 1.04v10.864c0 .462-.231.809-.578 1.04l-9.362 5.432a1.05 1.05 0 0 1-1.155 0l-9.362-5.432c-.347-.231-.578-.578-.578-1.04v-10.864c0-.463.231-.81.578-1.04l9.362-5.432z" fill="#539E43"></path> <g transform="translate(134.068 70.501)"> <mask id="c" fill="#ffffff"> <use xlink:href="#a"></use> </mask> <use fill="url(#b)" xlink:href="#a"></use> <g mask="url(#c)"> <path d="M51.893 1.85L3.121 29.933C1.27 30.974 0 32.94 0 35.02v56.286c0 1.387.578 2.658 1.502 3.698L56.285 1.156c-1.387-.231-3.005-.116-4.392.693zM56.632 125.053c.462-.116.925-.347 1.387-.578l48.773-28.085c1.85-1.04 3.005-3.005 3.005-5.085V35.019c0-1.502-.694-3.005-1.734-4.045l-51.43 94.079z"></path> <path d="M106.676 29.934L57.788 1.85a8.025 8.025 0 0 0-1.503-.578L1.502 95.12a6.082 6.082 0 0 0 1.619 1.387l48.888 28.085c1.387.809 3.005 1.04 4.507.577l51.432-94.078c-.347-.462-.81-.81-1.272-1.156z" fill="url(#d)"></path> </g> <g mask="url(#c)"> <path d="M109.797 91.305V35.019c0-2.08-1.271-4.045-3.12-5.085L57.786 1.85a5.106 5.106 0 0 0-1.848-.693l53.511 91.42c.231-.347.347-.809.347-1.271zM3.12 29.934C1.272 30.974 0 32.94 0 35.02v56.286c0 2.08 1.387 4.045 3.12 5.085l48.889 28.085c1.156.693 2.427.925 3.814.693L3.467 29.818l-.346.116z"></path> <path fill="url(#e)" fill-rule="evenodd" d="M50.391.809l-.693.347h.924l-.231-.347z" transform="translate(0 -9.246)"></path> <path d="M106.792 105.636c1.387-.809 2.427-2.196 2.89-3.698L56.053 10.402c-1.387-.231-2.89-.116-4.16.693L3.351 39.065l52.355 95.465a8.057 8.057 0 0 0 2.196-.693l48.889-28.2z" fill="url(#f)" fill-rule="evenodd" transform="translate(0 -9.246)"></path> <path fill="url(#g)" fill-rule="evenodd" d="M111.3 104.712l-.347-.578v.809l.346-.231z" transform="translate(0 -9.246)"></path> <path d="M106.792 105.636l-48.773 28.085a6.973 6.973 0 0 1-2.196.693l.925 1.734 54.089-31.32v-.694l-1.387-2.312c-.231 1.618-1.271 3.005-2.658 3.814z" fill="url(#h)" fill-rule="evenodd" transform="translate(0 -9.246)"></path> <path d="M106.792 105.636l-48.773 28.085a6.973 6.973 0 0 1-2.196.693l.925 1.734 54.089-31.32v-.694l-1.387-2.312c-.231 1.618-1.271 3.005-2.658 3.814z" fill="url(#i)" fill-rule="evenodd" transform="translate(0 -9.246)"></path> </g> </g> </g> </g></svg>';return{admin:{},radius:190,radius2:130,speed:18,speed2:11,outerIcons:[e,t,a,s,i],innerIcons:[e,t,a,s,i]}},mounted(){this.getAdminInfo()},methods:{...(0,f.i0)("rambling",["rambling_get"]),async getAdminInfo(){const t=await this.rambling_get("/api/get_adminInfo");200===t.code?this.admin=t.admin:Notification({type:"error",message:t.msg})},getDotStyle(t,e,s){const a=360/e*t;return{transform:`rotate(${a}deg) translate(${s}px) rotate(-${a}deg) translate(-50%, -50%)`}},getOrbitStyle(t,e,s){return{width:2*t+"px",height:2*t+"px",animationDuration:`${e}s`,animationDirection:s?"reverse":"normal"}}}},W=Q,tt=(0,l.A)(W,X,J,!1,null,"347e9555",null),et=tt.exports,st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"skill-container"},[e("div",{staticClass:"inner",style:`--quantity: ${t.skills.length};`},t._l(t.skills,function(s,a){return e("div",{key:a,staticClass:"card",style:`--index: ${a}; --color-card: ${s.color};`},[e("div",{staticClass:"img"},[e("div",{staticClass:"first-content"},[t._v(t._s(s.name))]),e("div",{staticClass:"second-content"},[e("svg",{attrs:{width:"80",height:"80"}},[e("circle",{attrs:{cx:"40",cy:"40",r:"30",stroke:"#eee","stroke-width":"8",fill:"none"}}),e("circle",{attrs:{cx:"40",cy:"40",r:"30",stroke:s.colorRGB,"stroke-width":"8",fill:"none","stroke-linecap":"round","stroke-dasharray":188.4,"stroke-dashoffset":188.4-188.4*s.level/100,transform:"rotate(-90 40 40)"}})]),e("div",{staticClass:"percent-text"},[t._v(t._s(s.level)+"%")])])])])}),0)])},at=[],it={name:"SkillCircle",data(){return{skills:[{name:"Vue",level:85,color:"204, 255, 229",colorRGB:"#8ef9fc"},{name:"JavaScript",level:85,color:"255, 255, 153",colorRGB:"#8efccc"},{name:"Typescript",level:85,color:"47, 140, 200",colorRGB:"#8efccc"},{name:"Node.js",level:75,color:"255, 204, 153",colorRGB:"#8efc9d"},{name:"CSS",level:80,color:"178, 102, 255",colorRGB:"#d7fc8e"},{name:"HTML",level:80,color:"153, 204, 255",colorRGB:"#fcfc8e"},{name:"MySQL",level:70,color:"224, 224, 224",colorRGB:"#fcd08e"},{name:"Git",level:60,color:"252, 142, 142",colorRGB:"#fc8e8e"}]}}},ot=it,rt=(0,l.A)(ot,st,at,!1,null,"1a0cac86",null),nt=rt.exports,lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about-me-container"},[e("div",{staticClass:"about-me-card"},[e("CardStack",{attrs:{favorites:t.favorites.video,type:"video"},on:{"update:favorites":function(e){return t.$set(t.favorites,"video",e)}}})],1),e("div",{staticClass:"about-me-card"},[e("CardStack",{attrs:{favorites:t.favorites.album,type:"album"},on:{"update:favorites":function(e){return t.$set(t.favorites,"album",e)}}})],1),e("div",{staticClass:"about-me-card"},[e("CardStack",{attrs:{favorites:t.favorites.show,type:"show"},on:{"update:favorites":function(e){return t.$set(t.favorites,"show",e)}}})],1)])},ct=[],mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-stack-wrapper"},[e("div",{staticClass:"stack-container"},t._l(t.displayedCards,function(s,a){return e("div",{key:s.id,staticClass:"card",style:t.cardStyle(a,s.id)},[e("div",{staticClass:"card-inner"},[e("img",{staticClass:"movie-poster",style:{width:"160px",height:"album"===t.type?"160px":"240px"},attrs:{src:s.poster}})])])}),0),e("div",{staticClass:"movie-title"},[t._v("ã€Š"+t._s(t.displayedCards[0]?.name)+"ã€‹")]),e("div",{staticClass:"controls"},[e("button",{staticClass:"control-btn left-btn",on:{click:t.moveLeft}},[t._v("â€¹")]),e("button",{staticClass:"control-btn right-btn",on:{click:t.moveRight}},[t._v("â€º")])])])},dt=[],ut=(s(7588),{name:"CardStack",props:["favorites","type"],data(){return{displayCount:5,animating:!1,animCard:null,animDirection:null,animStage:null,animDuration:400,yOffset:-10,offsetDistance:200,timers:[],cards:[]}},watch:{favorites(t){this.cards=Array.isArray(t)?[...t]:[]}},computed:{displayedCards(){return this.cards.slice(0,this.displayCount)}},mounted(){this.cards=Array.isArray(this.favorites)?[...this.favorites]:[]},beforeDestroy(){this.clearTimers()},methods:{clearTimers(){this.timers.forEach(t=>clearTimeout(t)),this.timers=[]},moveLeft(){if(this.animating)return;this.clearTimers(),this.animating=!0,this.animDirection="left";const t=this.cards[0];this.animCard=t.id,this.animStage="start",this.$nextTick(()=>{requestAnimationFrame(()=>{this.animStage="animate"})});const e=setTimeout(()=>{const t=this.cards.shift();this.cards.push(t),this.resetAnimState()},this.animDuration);this.timers.push(e)},moveRight(){if(this.animating)return;this.clearTimers();const t=this.cards.pop();this.cards.unshift(t),this.animating=!0,this.animDirection="right",this.animCard=t.id,this.animStage="start",this.$nextTick(()=>{requestAnimationFrame(()=>{this.animStage="animate"})});const e=setTimeout(()=>{this.resetAnimState()},this.animDuration);this.timers.push(e)},resetAnimState(){this.animating=!1,this.animCard=null,this.animDirection=null,this.animStage=null},cardStyle(t,e){const s=.02,a=1-t*s,i=this.displayedCards.length-t,o=t*this.yOffset;if(this.animating&&e===this.animCard){if("left"===this.animDirection)return"start"===this.animStage?{zIndex:999,transform:`translateX(0px) translateY(${o}px) scale(${a})`,transition:"none",opacity:1}:{zIndex:999,transform:`translateX(-${this.offsetDistance}px) translateY(${o}px) scale(${a})`,transition:`transform ${this.animDuration}ms ease, opacity ${this.animDuration}ms ease`,opacity:0};if("right"===this.animDirection)return"start"===this.animStage?{zIndex:999,transform:`translateX(${this.offsetDistance}px) translateY(0px) scale(1)`,transition:"none",opacity:0}:{zIndex:999,transform:"translateX(0px) translateY(0px) scale(1)",transition:`transform ${this.animDuration}ms ease, opacity ${this.animDuration}ms ease`,opacity:1}}return{zIndex:i,transform:`translateY(${o}px) scale(${a})`,transition:"transform 250ms ease"}}}}),pt=ut,gt=(0,l.A)(pt,mt,dt,!1,null,"79eb836e",null),ht=gt.exports,ft={name:"AboutMe",components:{CardStack:ht},data(){return{movie_cards:[{id:1,title:"å¡ç‰‡ 1",name:"è‚–ç”³å…‹çš„æ•‘èµ",content:"è¿™æ˜¯ç¬¬ä¸€å¼ å¡ç‰‡"},{id:2,title:"å¡ç‰‡ 2",name:"éœ¸ç‹åˆ«å§¬",content:"è¿™æ˜¯ç¬¬äºŒå¼ å¡ç‰‡"},{id:3,title:"å¡ç‰‡ 3",name:"é˜¿ç”˜æ­£ä¼ ",content:"è¿™æ˜¯ç¬¬ä¸‰å¼ å¡ç‰‡"},{id:4,title:"å¡ç‰‡ 4",name:"æ³°å¦å°¼å…‹å·",content:"è¿™æ˜¯ç¬¬å››å¼ å¡ç‰‡"},{id:5,title:"å¡ç‰‡ 5",name:"ç›—æ¢¦ç©ºé—´",content:"è¿™æ˜¯ç¬¬äº”å¼ å¡ç‰‡"},{id:6,title:"å¡ç‰‡ 6",name:"æ˜Ÿé™…ç©¿è¶Š",content:"è¿™æ˜¯ç¬¬å…­å¼ å¡ç‰‡"},{id:7,title:"å¡ç‰‡ 7",name:"æ¥šé—¨çš„ä¸–ç•Œ",content:"è¿™æ˜¯ç¬¬ä¸ƒå¼ å¡ç‰‡"},{id:8,title:"å¡ç‰‡ 8",name:"æ•™çˆ¶",content:"è¿™æ˜¯ç¬¬å…«å¼ å¡ç‰‡"}],favorites:[]}},mounted(){this.getFavorites()},methods:{...(0,f.i0)("favorite",["favorite_get"]),async getFavorites(){const t="/api/get_myFavorites",e=await this.favorite_get(t);200===e.code?this.favorites=e.favorites:(0,C.Notification)({type:"error",message:e.msg})}}},vt=ft,wt=(0,l.A)(vt,lt,ct,!1,null,null,null),yt=wt.exports,Ct={name:"TassamibDemo",components:{AvatarCircle:et,SkillEnergy:nt,AboutMe:yt}},_t=Ct,bt=(0,l.A)(_t,Z,Y,!1,null,"48c00404",null),kt=bt.exports,xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-container"},[e("div",{staticClass:"article-list"},t._l(t.articles,function(s,a){return e("div",{key:a,staticClass:"article-card",on:{click:function(e){return t.goToArticle(s.id)}}},[e("div",{staticClass:"article-info"},[e("h2",{staticClass:"title"},[t._v(t._s(s.title))]),e("p",{staticClass:"description"},[t._v(t._s(s.description))]),e("div",{staticClass:"meta"},[e("span",{staticClass:"author"},[t._v(t._s(s.author))]),e("span",{staticClass:"date"},[t._v(t._s(s.date))])])])])}),0)])},It=[],St={name:"ArticleList",data(){return{}},mounted(){this.acticle_get("/api/get_articles")},computed:{...(0,f.aH)("article",["articles"])},methods:{...(0,f.i0)("article",["acticle_get","acticle_post"]),goToArticle(t){this.$router.push({name:"myArticleDetail",query:{id:t}})}}},At=St,Mt=(0,l.A)(At,xt,It,!1,null,"754e2ec7",null),Lt=Mt.exports,Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-detail-container"},[e("aside",{staticClass:"toc"},[e("ul",t._l(t.toc,function(s){return e("li",{key:s.slug,style:{paddingLeft:16*(s.level-1)+"px"}},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.scrollTo(s.slug)}}},[t._v(t._s(s.content))])])}),0)]),e("div",{ref:"articleBox",staticClass:"article-view-box markdown-body",domProps:{innerHTML:t._s(t.htmlContent)}})])},$t=[],Tt=s(3263),Nt=s(9878),Rt=(s(1732),{name:"articleDetail",data(){return{content:"",htmlContent:"",toc:[]}},mounted(){this.getArticle()},methods:{...(0,f.i0)("article",["acticle_get","acticle_post"]),async getArticle(){const t=this.$route.query.id;try{const e=await this.acticle_get(`/api/get_article/${t}`);this.content=e.article.content,this.generateHtmlAndToc()}catch(e){console.log(e)}},generateHtmlAndToc(){const t=new Tt.A({html:!0,linkify:!0,typographer:!0,highlight:function(e,s){if(s&&Nt.A.getLanguage(s))try{return'<pre class="hljs"><code>'+Nt.A.highlight(e,{language:s}).value+"</code></pre>"}catch(a){console.log(a.mesage)}return'<pre class="hljs"><code>'+t.utils.escapeHtml(e)+"</code></pre>"}}),e=t.parse(this.content,{}),s=[];for(let a=0;a<e.length;a++){const t=e[a];if("heading_open"===t.type){const i=parseInt(t.tag.slice(1)),o=e[a+1],r=o.content,n=r.replace(/\s+/g,"-");s.push({level:i,content:r,slug:n}),t.attrs=t.attrs||[],t.attrs.push(["id",n])}}this.toc=s,this.htmlContent=t.renderer.render(e,t.options)},scrollTo(t){const e=this.$refs.articleBox;if(!e)return;const s=e.querySelector(`#${t}`);if(s){const t=s.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:t,behavior:"smooth"})}}}}),Ft=Rt,Et=(0,l.A)(Ft,Pt,$t,!1,null,null,null),Dt=Et.exports,Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"message-container"},[e("PublishMessage"),e("MessageList",{on:{"del-msg":t.handleDelMsg,"del-reply":t.handleDelReply}})],1)},Ut=[],Bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"message-pubulish-container"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"textarea",attrs:{placeholder:"å†™ç‚¹ä»€ä¹ˆå§..."},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}}),e("button",{staticClass:"submit-btn",on:{click:t.submitMessage}},[t._v("ç•™è¨€")])])},zt=[],jt={name:"PublishMessage",data(){return{form:{username:"",message:""}}},mounted(){},methods:{...(0,f.i0)("message",["message_post","message_get"]),async submitMessage(){if(!this.form.message)return(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥å†…å®¹"});const t=y(localStorage.getItem("token"));if(!t)return(0,C.Notification)({type:"warning",message:"è¯·å…ˆç™»å½•"});const e={user_id:t.id,msg:this.form.message},s=await this.message_post({url:"/api/publish_message",payload:e});(0,C.Notification)({type:200===s.code?"success":"error",message:s.msg}),this.form.message="",this.message_get("/api/get_messages")}}},Vt=jt,qt=(0,l.A)(Vt,Bt,zt,!1,null,"0d840324",null),Ot=qt.exports,Ht=function(){var t=this,e=t._self._c;return e("transition-group",{staticClass:"message-list-container",attrs:{name:"slide-down",tag:"div"}},t._l(t.messages,function(s){return e("div",{key:s.id,staticClass:"message-card"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s.user_avatar||"https://pic.616pic.com/ys_img/00/06/27/5m1AgeRLf3.jpg"}})]),e("div",{staticClass:"message-content"},[e("div",{staticClass:"meta"},[e("span",{staticClass:"username"},[t._v(t._s(s.user_name||"åŒ¿åç”¨æˆ·"))]),e("span",{staticClass:"dot"},[t._v("Â·")]),e("span",{staticClass:"time"},[t._v(t._s(t.format(s.created_at)))]),e("button",{directives:[{name:"show",rawName:"v-show",value:"admin"===t.userInfo.role||t.userInfo.id===s.user_id,expression:'userInfo.role === "admin" || userInfo.id === message.user_id'}],staticClass:"delete-btn",on:{click:function(e){return t.$emit("del-msg",s.id)}}},[t._v(" âœ• ")])]),e("div",{staticClass:"text"},[t._v(t._s(s.content))]),e("div",{staticClass:"comment-section"},[t._l(s.comments,function(s){return e("div",{key:s.id,staticClass:"comment-item"},[e("div",{staticClass:"comment-inner"},[e("span",{staticClass:"comment-username"},[t._v(t._s(s.user_name||"åŒ¿åç”¨æˆ·"))]),e("span",{staticClass:"comment-dot"},[t._v("Â·")]),e("span",{staticClass:"comment-time"},[t._v(t._s(t.format(s.created_at)))]),e("div",{staticClass:"comment-text"},[t._v(t._s(s.content))]),e("button",{directives:[{name:"show",rawName:"v-show",value:"admin"===t.userInfo.role||t.userInfo.id===s.user_id,expression:'userInfo.role === "admin" || userInfo.id === comment.user_id'}],staticClass:"delete-btn comment",on:{click:function(e){return t.$emit("del-reply",s.id,s.message_id)}}},[t._v(" âœ• ")])])])}),e("div",{staticClass:"comment-input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.commentMap[s.id],expression:"commentMap[message.id]"}],staticClass:"comment-input",attrs:{type:"text",placeholder:"å†™ä¸‹ä½ çš„å›å¤..."},domProps:{value:t.commentMap[s.id]},on:{input:function(e){e.target.composing||t.$set(t.commentMap,s.id,e.target.value)}}}),e("button",{staticClass:"comment-submit-btn",on:{click:function(e){return t.handleComment(s.id)}}},[t._v("å‘é€")])])],2)])])}),0)},Kt=[];const Zt=t=>{if(!t)return"";const e=new Date(t);return isNaN(e.getTime())?"":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},Yt=t=>{if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return`${s}-${a}-${i} ${o}:${r}`};var Xt={name:"MessageList",data(){return{commentMap:{},userInfo:{}}},computed:{...(0,f.aH)("message",["messages"])},mounted(){this.getUserInfo()},methods:{...(0,f.i0)("message",["message_post","message_get"]),getUserInfo(){const t=y(localStorage.getItem("token"));t&&(this.userInfo={id:t.id,name:t.name,role:t.role,avatar:t.avatar})},handleComment(t){const e=this.commentMap[t];if(!e)return(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥å†…å®¹"});if(!this.userInfo.id)return(0,C.Notification)({type:"warning",message:"è¯·å…ˆç™»å½•"});const s={message_id:t,user_id:this.userInfo.id,content:e};this.message_post({url:"/api/publish_comment",payload:s}),this.message_get("/api/get_messages"),this.$set(this.commentMap,t,"")},format(t){return Yt(t)}}},Jt=Xt,Qt=(0,l.A)(Jt,Ht,Kt,!1,null,"ab4d686a",null),Wt=Qt.exports,te={name:"CommentDemo",components:{PublishMessage:Ot,MessageList:Wt},methods:{...(0,f.i0)("message",["message_post","message_get"]),async handleDelMsg(t){const e={id:t},s=await this.message_post({url:"/api/delete_message",payload:e});(0,C.Notification)({type:200===s.code?"success":"error",message:s.msg}),this.message_get("/api/get_messages")},async handleDelReply(t,e){const s={id:t,mid:e},a=await this.message_post({url:"/api/delete_reply",payload:s});(0,C.Notification)({type:200===a.code?"success":"error",message:a.msg}),this.message_get("/api/get_messages")}},mounted(){this.message_get("/api/get_messages")}},ee=te,se=(0,l.A)(ee,Gt,Ut,!1,null,"35f4d898",null),ae=se.exports,ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rambling-container"},[e("div",{staticClass:"user-profile"},[e("UserProfile")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin(),expression:"isAdmin()"}],staticClass:"publish-ramblings"},[e("PubRamblings")],1),e("div",{staticClass:"rambling-card"},[e("RamblingList")],1)])},oe=[],re=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-profile-caontainer card"},[e("div",{staticClass:"background"}),e("div",{staticClass:"user-profile"},[e("img",{staticClass:"avatar",attrs:{src:t.admin.avatar,alt:"ç”¨æˆ·å¤´åƒ",loading:"lazy"}}),e("div",{staticClass:"user-info"},[e("h2",{staticClass:"username"},[t._v(t._s(t.admin.name))]),e("p",{staticClass:"bio"},[t._v("è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ç•™ä¸‹")])])])])},ne=[],le={name:"UserProfile",data(){return{admin:{}}},mounted(){this.getAdminInfo()},methods:{...(0,f.i0)("rambling",["rambling_get"]),async getAdminInfo(){const t=await this.rambling_get("/api/get_adminInfo");200===t.code?this.admin=t.admin:Notification({type:"error",message:t.msg})}}},ce=le,me=(0,l.A)(ce,re,ne,!1,null,"532d04ee",null),de=me.exports,ue=function(){var t=this,e=t._self._c;return e("div",[t._l(t.ramblings,function(s){return e("div",{key:s.id,staticClass:"rambling-card"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin(),expression:"isAdmin()"}],staticClass:"delete-btn",on:{click:function(e){return t.handleDelRam(s.id)}}},[t._v("âœ•")]),e("div",{staticClass:"rambling-left"},[e("img",{staticClass:"avatar",attrs:{src:s.user_avatar,alt:"å¤´åƒ",loading:"lazy"}})]),e("div",{staticClass:"rambling-right"},[e("div",{staticClass:"header-info"},[e("span",{staticClass:"username"},[t._v(t._s(s.user_name))]),e("span",{staticClass:"date"},[t._v(t._s(t.format(s.created_at)))])]),e("div",{staticClass:"rambling-content"},[t._v(t._s(s.content))]),s.photos?e("div",{staticClass:"rambling-images"},t._l(s.photos,function(a,i){return e("div",{key:i,staticClass:"image-item",on:{click:function(e){return t.openPreview(s.photos,i)}}},[e("img",{staticClass:"image-preview",attrs:{src:a.img}})])}),0):t._e()])])}),t.preview.visible?e("div",{staticClass:"image-preview-overlay",on:{click:function(e){return e.target!==e.currentTarget?null:t.closePreview.apply(null,arguments)}}},[e("button",{staticClass:"close-btn",on:{click:t.closePreview}},[t._v("âœ•")]),e("img",{staticClass:"preview-img",attrs:{src:t.preview.photos[t.preview.index].img,alt:"é¢„è§ˆ"}}),t.preview.photos.length>1?e("button",{staticClass:"nav-btn prev",on:{click:function(e){return e.stopPropagation(),t.prevImg.apply(null,arguments)}}},[t._v("â€¹")]):t._e(),t.preview.photos.length>1?e("button",{staticClass:"nav-btn next",on:{click:function(e){return e.stopPropagation(),t.nextImg.apply(null,arguments)}}},[t._v("â€º")]):t._e()]):t._e()],2)},pe=[],ge={name:"MomentsCard",data(){return{preview:{visible:!1,photos:[],index:0}}},computed:{...(0,f.aH)("rambling",["ramblings"])},mounted(){this.getRamblings(),window.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeydown)},methods:{...(0,f.i0)("rambling",["rambling_post","rambling_get"]),async getRamblings(){const t=await this.rambling_get("/api/get_ramblings");200!==t.code&&(0,C.Notification)({type:"error",message:t.msg})},isAdmin(){const t=y(localStorage.getItem("token"));return"admin"===t?.role},async handleDelRam(t){const e=await this.rambling_post({url:"/api/delete_rambling",payload:{id:t}});(0,C.Notification)({type:200===e.code?"success":"error",message:e.msg}),this.rambling_get("/api/get_ramblings")},format(t){return Yt(t)},openPreview(t,e){this.preview.photos=t,this.preview.index=e,this.preview.visible=!0,document.body.style.overflow="hidden"},closePreview(){this.preview.visible=!1,document.body.style.overflow=""},prevImg(){this.preview.index=(this.preview.index-1+this.preview.photos.length)%this.preview.photos.length},nextImg(){this.preview.index=(this.preview.index+1)%this.preview.photos.length},handleKeydown(t){this.preview.visible&&("Escape"===t.key&&this.closePreview(),"ArrowLeft"===t.key&&this.prevImg(),"ArrowRight"===t.key&&this.nextImg())}}},he=ge,fe=(0,l.A)(he,ue,pe,!1,null,"1b16840c",null),ve=fe.exports,we=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rambling-publish-container card"},[e("div",{staticClass:"top-bar"},[e("button",{staticClass:"btn cancel",on:{click:t.cancel}},[t._v("å–æ¶ˆ")]),e("button",{staticClass:"btn send",on:{click:t.publish}},[t._v("å‘é€")])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"input",attrs:{placeholder:"å†™ç‚¹ä»€ä¹ˆå§..."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("div",{staticClass:"bottom-bar"},[e("button",{staticClass:"icon-btn",on:{click:t.insertEmoji}},[t._v("ğŸ˜Š è¡¨æƒ…")]),e("button",{staticClass:"icon-btn",on:{click:t.triggerImageUpload}},[t._v(" ğŸ–¼ï¸ å›¾ç‰‡ "),e("input",{ref:"imageInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.handleImageUpload}})])]),t.imageUrls.length>0?e("div",{staticClass:"preview-grid"},t._l(t.imageUrls,function(s,a){return e("div",{key:a,staticClass:"preview-item"},[e("img",{staticClass:"preview-img",attrs:{src:s,alt:"å›¾ç‰‡é¢„è§ˆ"}}),e("button",{staticClass:"delete-btn",on:{click:function(e){return t.removeImage(a)}}},[t._v("Ã—")])])}),0):t._e()])},ye=[],Ce=(s(1701),s(8827)),_e=s.n(Ce),be=s(9605);const ke=be.A.create({timeout:5e3,headers:{"Content-Type":"application/json"}});ke.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>(C.Notification.error("è¯·æ±‚å‘é€å¤±è´¥"),Promise.reject(t))),ke.interceptors.response.use(t=>t.data,t=>{if(401===t.response?.status){const e=t.response?.data?.msg||"æœªæˆæƒè®¿é—®ï¼Œè¯·é‡æ–°ç™»å½•";e.includes("è¿‡æœŸ")&&localStorage.removeItem("token"),C.Notification.warning(e)}else{const e=t.response?.data?.msg||"è¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•";console.log("err",t),C.Notification.error(e)}return Promise.reject(t)});var xe={get(t,e){return ke.get(t,e)},post(t,e){return ke.post(t,e)}},Ie={name:"PostEditor",data(){return{content:"",imageUrls:[],userInfo:{},maxImageCount:9}},mounted(){this.initUserInfo()},methods:{...(0,f.i0)("rambling",["rambling_post","rambling_get"]),...(0,f.i0)("user",["user_get","user_post"]),initUserInfo(){const t=localStorage.getItem("token");if(t){const{id:e,name:s,avatar:a}=y(t);this.userInfo={id:e,name:s,avatar:a}}},cancel(){this.content="",this.imageUrls=[],this.$refs.imageInput&&(this.$refs.imageInput.value="")},async publish(){const{id:t}=y(localStorage.getItem("token"));if(!this.content.trim()&&0===this.imageUrls.length)return(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥å†…å®¹æˆ–ä¸Šä¼ å›¾ç‰‡"});const e={user_id:t,content:this.content},s=await this.sendRamblings(e);s&&this.imageUrls.length>0&&await this.sendPhotos({rambling_id:s,imgs:this.imageUrls}),this.cancel(),await this.rambling_get("/api/get_ramblings")},async sendRamblings(t){try{const e=await this.rambling_post({url:"/api/publish_rambling",payload:t});return(0,C.Notification)({type:200===e.code?"success":"error",message:e.msg}),200===e.code?e.rambling_id:null}catch(e){return console.error("å‘å¸ƒç¢ç¢å¿µå¤±è´¥:",e),(0,C.Notification)({type:"error",message:"å‘å¸ƒç¢ç¢å¿µå¤±è´¥"}),null}},async sendPhotos(t){try{const e=await this.rambling_post({url:"/api/publish_photos",payload:t});200===e.code?(0,C.Notification)({type:"success",message:"å›¾ç‰‡æäº¤æˆåŠŸ"}):(0,C.Notification)({type:"error",message:"å›¾ç‰‡æäº¤å¤±è´¥: "+e.msg})}catch(e){console.error("å›¾ç‰‡æäº¤å¤±è´¥:",e),(0,C.Notification)({type:"error",message:"å›¾ç‰‡æäº¤å¤±è´¥"})}},insertEmoji(){this.content+="ğŸ˜Š"},triggerImageUpload(){return this.userInfo.id?this.imageUrls.length>=this.maxImageCount?(0,C.Notification)({type:"warning",message:`æœ€å¤šåªèƒ½ä¸Šä¼ ${this.maxImageCount}å¼ å›¾ç‰‡`}):void this.$refs.imageInput?.click():(0,C.Notification)({type:"warning",message:"è¯·å…ˆç™»å½•"})},async handleImageUpload(t){const e=t.target.files;if(!e||0===e.length)return;const s=Array.from(e).slice(0,this.maxImageCount-this.imageUrls.length);if(0===s.length)return(0,C.Notification)({type:"warning",message:`æœ€å¤šåªèƒ½ä¸Šä¼ ${this.maxImageCount}å¼ å›¾ç‰‡`});try{const t=await xe.get("/api/oss/sts");if(200!==t.code||!t.data)throw new Error("è·å–ä¸Šä¼ å‡­è¯å¤±è´¥");const e=t.data,a=new(_e())({region:e.Region,accessKeyId:e.AccessKeyId,accessKeySecret:e.AccessKeySecret,stsToken:e.SecurityToken,bucket:e.Bucket,secure:!0,refreshSTSToken:async()=>{const t=await this.user_get({url:"/api/oss/sts"});return{accessKeyId:t.data.AccessKeyId,accessKeySecret:t.data.AccessKeySecret,stsToken:t.data.SecurityToken}},refreshSTSTokenInterval:3e5});(0,C.Notification)({type:"info",message:`æ­£åœ¨ä¸Šä¼ ${s.length}å¼ å›¾ç‰‡...`});const i=s.map(async t=>{const e=5242880;if(t.size>e)throw new Error(`${t.name} å¤§å°è¶…è¿‡5MBï¼Œæ— æ³•ä¸Šä¼ `);const s=(new Date).getTime(),i=Math.random().toString(36).substring(2,8),o=t.name.split(".").pop().toLowerCase(),r=`uploads/tassamib/ramblings/${this.userInfo.name}/${s}_${i}.${o}`,n=await a.put(r,t,{contentType:this.getImageType(t.name),timeout:6e4});return n.url}),o=await Promise.all(i);this.imageUrls=[...this.imageUrls,...o],(0,C.Notification)({type:"success",message:`æˆåŠŸä¸Šä¼ ${o.length}å¼ å›¾ç‰‡`})}catch(a){console.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥:",a.message),(0,C.Notification)({type:"error",message:"å›¾ç‰‡ä¸Šä¼ å¤±è´¥: "+a.message})}finally{this.$refs.imageInput.value=""}},getImageType(t){const e=t.split(".").pop()?.toLowerCase()||"",s={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",svg:"image/svg+xml"};return s[e]||"image/jpeg"},removeImage(t){this.imageUrls.splice(t,1)}}},Se=Ie,Ae=(0,l.A)(Se,we,ye,!1,null,"e6084bb2",null),Me=Ae.exports,Le={name:"TestDemo",components:{UserProfile:de,RamblingList:ve,PubRamblings:Me},methods:{isAdmin(){const t=y(localStorage.getItem("token"));return!!t&&"admin"===t.role}}},Pe=Le,$e=(0,l.A)(Pe,ie,oe,!1,null,"1e5c5810",null),Te=$e.exports,Ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-page"},[e("div",{staticClass:"userInfo-header"},[e("div",{staticClass:"avatar-box"},[e("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.handleAvatarUpload}}),e("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatar||"https://pic.616pic.com/ys_img/00/06/27/5m1AgeRLf3.jpg",alt:"avatar"},on:{click:t.triggerAvatarInput}}),e("button",{staticClass:"change-avatar",on:{click:t.triggerAvatarInput}},[t._v("æ›´æ¢å¤´åƒ")])]),e("div",{staticClass:"user-info"},[e("h2",[t._v(t._s(t.userInfo.name))]),e("p",[t._v(t._s(t.userInfo.email||"error"))])])]),e("div",{staticClass:"settings-card"},[e("h3",[t._v("ä¸ªäººèµ„æ–™")]),e("div",{staticClass:"form-grid"},[e("div",{staticClass:"form-item"},[e("label",[t._v("æ˜µç§°")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.name,expression:"userInfo.name"}],attrs:{type:"text",placeholder:"è¯·è¾“å…¥æ˜µç§°"},domProps:{value:t.userInfo.name},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"name",e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("label",[t._v("æ€§åˆ«")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.gender,expression:"userInfo.gender"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.userInfo,"gender",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"male"}},[t._v("ç”·")]),e("option",{attrs:{value:"female"}},[t._v("å¥³")]),e("option",{attrs:{value:"unknown"}},[t._v("å…¶ä»–")])])]),e("div",{staticClass:"form-item"},[e("label",[t._v("ç”Ÿæ—¥")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.birthday,expression:"userInfo.birthday"}],attrs:{type:"date"},domProps:{value:t.userInfo.birthday},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"birthday",e.target.value)}}})])]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"save-btn",on:{click:t.saveUserInfo}},[t._v("ä¿å­˜ä¿®æ”¹")])])]),e("div",{staticClass:"settings-card"},[e("h3",[t._v("è´¦å·å®‰å…¨")]),e("div",{staticClass:"security-list"},[e("div",{staticClass:"security-item"},[e("span",{staticClass:"label"},[t._v("é‚®ç®±")]),e("span",{staticClass:"value"},[t._v(t._s(t.userInfo.email||"error"))]),e("button",{staticClass:"action-btn",on:{click:function(e){t.showEmailModal=!0}}},[t._v("ä¿®æ”¹")])]),e("div",{staticClass:"security-item"},[e("span",{staticClass:"label"},[t._v("å¯†ç ")]),e("span",{staticClass:"value"},[t._v("********")]),e("button",{staticClass:"action-btn",on:{click:function(e){t.showPasswordModal=!0}}},[t._v("ä¿®æ”¹")])])])]),t.showEmailModal?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("h3",[t._v("ä¿®æ”¹é‚®ç®±")]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.emailForm.newEmail,expression:"emailForm.newEmail"}],attrs:{type:"email",placeholder:"æ–°é‚®ç®±åœ°å€"},domProps:{value:t.emailForm.newEmail},on:{input:function(e){e.target.composing||t.$set(t.emailForm,"newEmail",e.target.value)}}})]),e("div",{staticClass:"code-row"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.emailForm.code,expression:"emailForm.code"}],attrs:{type:"text",placeholder:"éªŒè¯ç "},domProps:{value:t.emailForm.code},on:{input:function(e){e.target.composing||t.$set(t.emailForm,"code",e.target.value)}}})]),e("button",{staticClass:"send-code",attrs:{disabled:t.countdown>0},on:{click:t.sendCode}},[t._v(" "+t._s(t.countdown>0?t.countdown+"s":"å‘é€éªŒè¯ç ")+" ")])]),e("div",{staticClass:"modal-actions"},[e("button",{on:{click:t.updateEmail}},[t._v("ç¡®è®¤")]),e("button",{on:{click:function(e){t.showEmailModal=!1}}},[t._v("å–æ¶ˆ")])])])]):t._e(),t.showPasswordModal?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("h3",[t._v("ä¿®æ”¹å¯†ç ")]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordForm.oldPassword,expression:"passwordForm.oldPassword"}],attrs:{type:"password",placeholder:"æ—§å¯†ç "},domProps:{value:t.passwordForm.oldPassword},on:{input:function(e){e.target.composing||t.$set(t.passwordForm,"oldPassword",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordForm.newPassword,expression:"passwordForm.newPassword"}],attrs:{type:"password",placeholder:"æ–°å¯†ç "},domProps:{value:t.passwordForm.newPassword},on:{input:function(e){e.target.composing||t.$set(t.passwordForm,"newPassword",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordForm.confirmPassword,expression:"passwordForm.confirmPassword"}],attrs:{type:"password",placeholder:"ç¡®è®¤æ–°å¯†ç "},domProps:{value:t.passwordForm.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.passwordForm,"confirmPassword",e.target.value)}}})]),e("div",{staticClass:"modal-actions"},[e("button",{on:{click:t.updatePassword}},[t._v("ç¡®è®¤")]),e("button",{on:{click:function(e){t.showPasswordModal=!1}}},[t._v("å–æ¶ˆ")])])])]):t._e()])},Re=[],Fe={name:"SettingsPage",data(){return{userInfo:{},showEmailModal:!1,showPasswordModal:!1,emailForm:{newEmail:"",code:""},passwordForm:{oldPassword:"",newPassword:"",confirmPassword:""},countdown:0,timer:null,avatarInput:null}},mounted(){this.getUserInfo()},methods:{...(0,f.i0)("user",["user_get","user_post"]),async getUserInfo(){const{id:t}=y(localStorage.getItem("token")),e="/api/get_myInfo",s={id:t},a=await this.user_get({url:e,payload:s});200===a.code?this.userInfo={...a.userInfo,birthday:Zt(a.userInfo.birthday)}:(0,C.Notification)({type:"error",message:a.msg})},triggerAvatarInput(){this.$refs.avatarInput?.click()},async handleAvatarUpload(t){try{const e=t.target.files?.[0];if(!e)throw new Error("æœªé€‰æ‹©æ–‡ä»¶");const s=await xe.get("/api/oss/sts");if(200!==s.code||!s.data)throw new Error("STS è¿”å›æ•°æ®å¼‚å¸¸: "+(s.msg||"æœªçŸ¥é”™è¯¯"));const a=s.data,i=new(_e())({region:a.Region,accessKeyId:a.AccessKeyId,accessKeySecret:a.AccessKeySecret,stsToken:a.SecurityToken,bucket:a.Bucket,secure:!0,refreshSTSToken:async()=>{const t=await this.user_get({url:"/api/oss/sts"});return{accessKeyId:t.data.AccessKeyId,accessKeySecret:t.data.AccessKeySecret,stsToken:t.data.SecurityToken}},refreshSTSTokenInterval:3e5}),o=`uploads/tassamib/avatar/${this.userInfo.name}/${e.name}`,r=this.getImageType(e.name),n=await i.put(o,e,{contentType:r});await this.changeAvatar(n.url)}catch(e){console.error("ä¸Šä¼ å¤±è´¥:",e.message),(0,C.Notification)({type:"error",message:"å¤´åƒä¸Šä¼ å¤±è´¥: "+(e.message||"æœªçŸ¥é”™è¯¯")})}},async changeAvatar(t){const e=await this.user_post({url:"/api/change_avatar",payload:{id:this.userInfo.id,avatar:t}});200===e.code?(this.userInfo.avatar=t,(0,C.Notification)({type:"success",message:e.msg})):(0,C.Notification)({type:"error",message:e.msg})},getImageType(t){const e=t.split(".").pop()?.toLowerCase()||"",s={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"};return s[e]||"image/jpeg"},async saveUserInfo(){if(!this.userInfo.name)return void(0,C.Notification)({type:"warning",message:"æ˜µç§°ä¸èƒ½ä¸ºç©º"});const t="/api/change_myinfo",e={id:this.userInfo.id,name:this.userInfo.name,gender:this.userInfo.gender,birthday:this.userInfo.birthday},s=await this.user_post({url:t,payload:e});(0,C.Notification)({type:200===s.code?"success":"error",message:s.msg})},async sendCode(){const t=this.emailForm.newEmail.trim();if(!t)return void(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥æ–°é‚®ç®±"});const e=/^[\w.-]+@[a-zA-Z0-9-]+\.[a-zA-Z]+$/;if(!e.test(t))return void(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥æœ‰æ•ˆé‚®ç®±åœ°å€"});const s="/api/sendCode",a={email:t,method:"changeEmail"},i=await this.user_post({url:s,payload:a});200===i.code?((0,C.Notification)({type:"success",message:i.msg}),this.countdown=60,this.timer=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.timer),this.timer=null)},1e3)):(0,C.Notification)({type:"error",message:i.msg})},async updateEmail(){const{newEmail:t,code:e}=this.emailForm;if(!t.trim())return void(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥æ–°é‚®ç®±"});if(!e.trim())return void(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥éªŒè¯ç "});const s="/api/change_email",a={id:this.userInfo.id,email:t,code:e},i=await this.user_post({url:s,payload:a});200===i.code?((0,C.Notification)({type:"success",message:i.msg}),this.goToLogin()):(0,C.Notification)({type:"error",message:i.msg})},async updatePassword(){const{oldPassword:t,newPassword:e,confirmPassword:s}=this.passwordForm;if(!t.trim())return void(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥æ—§å¯†ç "});if(!e.trim())return void(0,C.Notification)({type:"warning",message:"è¯·è¾“å…¥æ–°å¯†ç "});if(e.length<6)return void(0,C.Notification)({type:"warning",message:"æ–°å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½"});if(e!==s)return void(0,C.Notification)({type:"warning",message:"ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´"});const a="/api/change_password",i={id:this.userInfo.id,password:t,newPassword:e},o=await this.user_post({url:a,payload:i});200===o.code?((0,C.Notification)({type:"success",message:o.msg}),this.goToLogin()):(0,C.Notification)({type:"error",message:o.msg})},goToLogin(){this.showEmailModal=!1,this.showPasswordModal=!1,this.emailForm.newEmail="",this.emailForm.code="",this.passwordForm.oldPassword="",this.passwordForm.newPassword="",this.passwordForm.confirmPassword="",this.timer&&(clearInterval(this.timer),this.timer=null,this.countdown=0),localStorage.removeItem("token"),this.$router.push("/login")}},beforeDestroy(){this.timer&&clearInterval(this.timer)}},Ee=Fe,De=(0,l.A)(Ee,Ne,Re,!1,null,"4b6b1fe9",null),Ge=De.exports;const Ue=[{path:"/",redirect:"/home",name:"myLayout",component:z,meta:{title:"",hidden:!1,requireLoginAuth:!1},children:[{path:"home",name:"myHome",component:kt,meta:{title:"é¦–é¡µ",hidden:!1}},{path:"articles",name:"myArticles",component:Lt,meta:{title:"åšå®¢",hidden:!1}},{path:"articledetail",name:"myArticleDetail",component:Dt,meta:{title:"æ–‡ç« è¯¦æƒ…",hidden:!0}},{path:"ramblings",name:"myRamblings",component:Te,meta:{title:"ç¢ç¢å¿µ",hidden:!1}},{path:"messages",name:"myMessages",component:ae,meta:{title:"ç•™è¨€æ¿",hidden:!1}},{path:"settings",name:"mySettings",component:Ge,meta:{title:"è®¾ç½®",hidden:!0,requireLoginAuth:!0}}]},{path:"/login",name:"myLoginRegister",component:K,requireLoginAuth:!1}],Be=new d.Ay({routes:Ue});Be.beforeEach((t,e,s)=>{if(t.meta.requireLoginAuth){const t=localStorage.getItem("token");t?s():alert("è¯·å…ˆç™»å½•")}else s()});var ze=Be,je=s(644),Ve=s.n(je);const qe={},Oe={},He={setUser(t,e){t.commit("SET_USER",e)},async user_post(t,{url:e,payload:s}){try{const t=await xe.post(e,s);return console.log("postè¯·æ±‚ç»“æŸ",t),t}catch(a){throw console.error(a),a}},async user_get(t,{url:e,payload:s}){try{const t=await be.A.get(e,s?{params:{...s}}:void 0);return console.log("getè¯·æ±‚ç»“æŸ",t.data),t.data}catch(a){throw console.error(a),a}}};var Ke={namespaced:!0,state:qe,mutations:Oe,actions:He};const Ze={articles:[]},Ye={SET_ARTICLES(t,e){t.articles=e}},Xe={async acticle_post(t,{url:e,payload:s}){try{const t=await xe.post(e,s);return console.log("postè¯·æ±‚ç»“æŸ",t),t}catch(a){throw console.error(a),a}},async acticle_get(t,e){try{const s=await xe.get(e);return console.log("getè¯·æ±‚ç»“æŸ",s),t.dispatch("switchUrl",{url:e,res:s}),s}catch(s){throw console.error(s),s}},switchUrl(t,{url:e,res:s}){switch(e){case"/api/get_articles":t.commit("SET_ARTICLES",s.articles);break}}};var Je={namespaced:!0,state:Ze,mutations:Ye,actions:Xe};const Qe={messages:[]},We={SET_MESSAGES(t,e){t.messages=e}},ts={async message_post(t,{url:e,payload:s}){try{const t=await xe.post(e,s);return console.log("postè¯·æ±‚ç»“æŸ",t),t}catch(a){throw console.error(a),a}},async message_get(t,e){try{const s=await xe.get(e);return console.log("getè¯·æ±‚ç»“æŸ",s),t.dispatch("switchUrl",{url:e,res:s}),s}catch(s){throw console.error(s),s}},switchUrl(t,{url:e,res:s}){switch(e){case"/api/get_messages":t.commit("SET_MESSAGES",s.messages);break}}};var es={namespaced:!0,state:Qe,mutations:We,actions:ts};const ss={ramblings:[]},as={SET_RAMBLINGS(t,e){t.ramblings=e}},is={async rambling_post(t,{url:e,payload:s}){try{const t=await xe.post(e,s);return console.log("postè¯·æ±‚ç»“æŸ",t),t}catch(a){throw console.error(a),a}},async rambling_get(t,e){try{const s=await xe.get(e);return console.log("getè¯·æ±‚ç»“æŸ",s),t.dispatch("switchUrl",{url:e,res:s}),s}catch(s){throw console.error(s),s}},switchUrl(t,{url:e,res:s}){switch(e){case"/api/get_ramblings":t.commit("SET_RAMBLINGS",s.ramblings);break}}};var os={namespaced:!0,state:ss,mutations:as,actions:is};const rs={favorites:[]},ns={SET_ARTICLES(t,e){t.favorites=e}},ls={async favorite_post(t,{url:e,payload:s}){try{const t=await xe.post(e,s);return console.log("favorite_postè¯·æ±‚ç»“æŸ",t),t}catch(a){throw console.error(a),a}},async favorite_get(t,e){try{const s=await xe.get(e);return console.log("favorite_getè¯·æ±‚ç»“æŸ",s),t.dispatch("switchUrl",{url:e,res:s}),s}catch(s){throw console.error(s),s}},switchUrl(t,{url:e,res:s}){switch(e){case"/api/get_myFavorites":t.commit("SET_ARTICLES",s.favorites);break}}};var cs={namespaced:!0,state:rs,mutations:ns,actions:ls};a["default"].use(f.Ay);var ms=new f.Ay.Store({modules:{user:Ke,article:Je,message:es,rambling:os,favorite:cs}});a["default"].config.productionTip=!1,a["default"].use(d.Ay),a["default"].use(Ve()),a["default"].use(_()),new a["default"]({render:t=>t(m),router:ze,store:ms,beforeCreate(){a["default"].prototype.$bus=this}}).$mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=t,function(){s.amdO={}}(),function(){var t=[];s.O=function(e,a,i,o){if(!a){var r=1/0;for(m=0;m<t.length;m++){a=t[m][0],i=t[m][1],o=t[m][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every(function(t){return s.O[t](a[l])})?a.splice(l--,1):(n=!1,o<r&&(r=o));if(n){t.splice(m--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var m=t.length;m>0&&t[m-1][2]>o;m--)t[m]=t[m-1];t[m]=[a,i,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,o,r=a[0],n=a[1],l=a[2],c=0;if(r.some(function(e){return 0!==t[e]})){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var m=l(s)}for(e&&e(a);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(m)},a=self["webpackChunktassamib"]=self["webpackChunktassamib"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],function(){return s(3052)});a=s.O(a)})();
//# sourceMappingURL=app.01107711.js.map